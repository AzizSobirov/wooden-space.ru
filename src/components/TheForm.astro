---
import { H2, H3 } from "ui";

interface Props {
  success?: boolean;
  id?: string;
}

const { success = false, id = "form" } = Astro.props;
---

<div class="form">
  {
    success ? (
      <>
        <H2>СПАСИБО ЗА ЗАЯВКУ!</H2>
        <div class="text-p">
          Наши менеджеры перезвонят Вам для <br /> уточнения деталей!
        </div>
      </>
    ) : (
      <>
        <H2>ЗАПИШИТЕСЬ НА ОБУЧЕНИЕ</H2>
        <div class="text-p">И получите скидку в 10% на обучение.</div>

        <form id={id}>
          <input type="text" name="link" placeholder="Ваше имя" required />
          <input
            type="text"
            name="phone"
            placeholder="Ваш номер телефона"
            required
          />
          <button type="submit">
            <span>ЗАПИСЬ НА ОБУЧЕНИЕ</span>

            <div class="icon">
              <svg
                width="40"
                height="40"
                viewBox="0 0 40 40"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <circle cx="20" cy="20" r="19.5" stroke="white" />
                <path
                  d="M26 15C26 14.7239 25.7761 14.5 25.5 14.5H21C20.7239 14.5 20.5 14.7239 20.5 15C20.5 15.2761 20.7239 15.5 21 15.5H25V19.5C25 19.7761 25.2239 20 25.5 20C25.7761 20 26 19.7761 26 19.5V15ZM15.3536 25.8536L25.8536 15.3536L25.1464 14.6464L14.6464 25.1464L15.3536 25.8536Z"
                  fill="white"
                />
              </svg>
            </div>
          </button>
        </form>

        <div class="text-xs">
          Отправляя данную форму, Вы даете согласие <br />
          на <a href="#">обработку персональных данных</a>
        </div>
      </>
    )
  }
</div>

<style lang="scss" is:global>
  @use "scss/helpers" as *;

  .form {
    width: 100%;
    color: #fff;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: rem(30);

    @include media("sm") {
      gap: rem(20);
    }

    form {
      margin-top: rem(20);
      width: 100%;
      max-width: rem(400);
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: rem(20);

      @include media("sm") {
        margin-top: 0;
        max-width: 100%;
      }
      @include media("xs") {
        gap: rem(15);
      }
    }

    input {
      padding: 0 rem(18);
      width: 100%;
      height: rem(50);
      color: #fff;
      font-size: 1rem;
      font-weight: 300;
      border: rem(1) solid #fff;
      border-radius: rem(15);

      @include media("xs") {
        padding: 0 rem(15);
        height: rem(45);
        font-size: rem(15);
        border-radius: rem(12);
      }

      &::placeholder {
        color: #fff;
        transition: var(--transition-ease);
      }

      &:focus {
        &::placeholder {
          transform: translateX(-50%);
        }
      }
    }

    button {
      margin-top: rem(10);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: rem(20);

      span {
        font-size: 1rem;
        font-weight: 300;
      }

      .icon {
        transition: var(--transition-ease);
        --icon-size: #{rem(40)};
      }

      &:hover {
        .icon {
          transform: rotate(45deg);
        }
      }
    }

    .text-xs {
      font-size: rem(12);
      font-weight: 300;

      a {
        text-decoration: underline;
      }
    }
  }
</style>
