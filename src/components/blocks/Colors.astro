---
import { Section, Header, H3, P, Image, Icon, Button } from "ui";

interface Props {
  species: {
    img: string;
    name: string;
  }[];
  colors: {
    img: number;
    name: string;
  }[];
  type?: "default" | "secondary";
}

const { species, colors, type = "default" } = Astro.props;
---

<!-- Colors -->
<Section name="colors">
  <Header
    title="Цвета и материалы производства"
    desc="При необходимости мы можем подобрать для Вас индивидуальный оттенок для реализации любых дизайнерских решений."
  />

  <div class="colors__content">
    <div class="colors__species">
      <H3>Породы древесины</H3>
      <div class="colors__species-list">
        {
          species.map((item) => (
            <div class="colors__species-item">
              <Image class="icon" src={item.img} />
              <P>{item.name}</P>
            </div>
          ))
        }
      </div>
    </div>

    <div class="colors__list">
      <H3>Стандартные цвета реек</H3>
      <div class="colors__list-swiper">
        <div class="swiper">
          <div class="swiper-wrapper">
            {
              colors.map((item) => (
                <div class="swiper-slide">
                  <Image src={`colors/${item.img}.png`} />
                  <P>{item.name}</P>
                </div>
              ))
            }
          </div>
        </div>
        <div class="swiper-nav">
          <div class="btn btn-prev">
            <svg
              width="17"
              height="8"
              viewBox="0 0 17 8"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0.646446 3.64645C0.451185 3.84171 0.451185 4.15829 0.646446 4.35355L3.82843 7.53554C4.02369 7.7308 4.34027 7.7308 4.53553 7.53553C4.7308 7.34027 4.7308 7.02369 4.53553 6.82843L1.70711 4L4.53553 1.17157C4.7308 0.976312 4.7308 0.659729 4.53553 0.464467C4.34027 0.269205 4.02369 0.269205 3.82843 0.464467L0.646446 3.64645ZM17 3.5L1 3.5L1 4.5L17 4.5L17 3.5Z"
                fill="currentColor"></path>
            </svg>
          </div>
          <div class="swiper-pagination"></div>
          <div class="btn btn-next">
            <svg
              width="17"
              height="8"
              viewBox="0 0 17 8"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M16.8536 4.35355C17.0488 4.15829 17.0488 3.84171 16.8536 3.64645L13.6716 0.464466C13.4763 0.269204 13.1597 0.269204 12.9645 0.464466C12.7692 0.659728 12.7692 0.976311 12.9645 1.17157L15.7929 4L12.9645 6.82843C12.7692 7.02369 12.7692 7.34027 12.9645 7.53553C13.1597 7.7308 13.4763 7.7308 13.6716 7.53553L16.8536 4.35355ZM0.5 4.5H16.5V3.5H0.5V4.5Z"
                fill="currentColor"></path>
            </svg>
          </div>
        </div>
      </div>

     {
      type == 'default' ? (
      <div class="painting__details">
        <div class="painting__details-item">
          <Icon src="colors.svg" />
          <P>
            <strong
              >Более 310 цветов с возможностью подбора индивидуального оттенка</strong
            > для любых дизайнерских решений, задуманных архитектором или
            заказчиком
          </P>
        </div>
      </div>
      ) : (
      <H3>Цвета под RAL</H3>
      <div class="colors__list-swiper">
        <div class="swiper">
          <div class="swiper-wrapper">
            {
              colors.map((item) => (
                <div class="swiper-slide">
                  <Image src={`colors/${item.img}.png`} />
                  <P>{item.name}</P>
                </div>
              ))
            }
          </div>
        </div>
        <div class="swiper-nav">
          <div class="btn btn-prev">
            <svg
              width="17"
              height="8"
              viewBox="0 0 17 8"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0.646446 3.64645C0.451185 3.84171 0.451185 4.15829 0.646446 4.35355L3.82843 7.53554C4.02369 7.7308 4.34027 7.7308 4.53553 7.53553C4.7308 7.34027 4.7308 7.02369 4.53553 6.82843L1.70711 4L4.53553 1.17157C4.7308 0.976312 4.7308 0.659729 4.53553 0.464467C4.34027 0.269205 4.02369 0.269205 3.82843 0.464467L0.646446 3.64645ZM17 3.5L1 3.5L1 4.5L17 4.5L17 3.5Z"
                fill="currentColor"></path>
            </svg>
          </div>
          <div class="swiper-pagination"></div>
          <div class="btn btn-next">
            <svg
              width="17"
              height="8"
              viewBox="0 0 17 8"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M16.8536 4.35355C17.0488 4.15829 17.0488 3.84171 16.8536 3.64645L13.6716 0.464466C13.4763 0.269204 13.1597 0.269204 12.9645 0.464466C12.7692 0.659728 12.7692 0.976311 12.9645 1.17157L15.7929 4L12.9645 6.82843C12.7692 7.02369 12.7692 7.34027 12.9645 7.53553C13.1597 7.7308 13.4763 7.7308 13.6716 7.53553L16.8536 4.35355ZM0.5 4.5H16.5V3.5H0.5V4.5Z"
                fill="currentColor"></path>
            </svg>
          </div>
        </div>
      </div>

      )
     }
    </div>
  </div>
</Section>

<style lang="scss" is:global>
  @use "scss/helpers" as *;

  .colors {
    position: relative;

    &::before {
      content: "";
      position: absolute;
      top: 0;
      left: 50%;
      transform: translate(-120%, 0);
      z-index: -2;
      width: rem(750);
      height: rem(750);
      background: url(/assets/img/wood-circle.svg) center/contain no-repeat;
      pointer-events: none;

      @include media("lg") {
        width: rem(500);
        height: rem(500);
      }
      @include media("sm") {
        left: 65%;
        width: rem(350);
        height: rem(350);
      }
    }

    .container {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: rem(50);

      @include media("sm") {
        gap: rem(30);
      }
    }

    &__content {
      width: 100%;
      display: flex;
      align-items: flex-start;
      justify-content: flex-start;
      gap: rem(20);

      @include media("lg") {
        flex-direction: column;
      }
    }

    &__species {
      position: relative;
      z-index: 2;
      padding: rem(30) rem(30) rem(45);
      width: 100%;
      max-width: rem(500);
      min-height: rem(395);
      color: #fff;
      background-color: var(--primary);
      border-radius: rem(26);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: rem(40);

      @include media("lg") {
        min-height: auto;
        max-width: 100%;
      }
      @include media("sm") {
        padding: rem(20) rem(20) rem(25);
        gap: rem(20);
      }

      &::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url(/assets/img/wood-circle.svg);
        background-position: right;
        background-size: 140% auto;
        opacity: 0.05;
      }

      .text-h3 {
        position: relative;
        color: #fff;
      }

      &-list {
        position: relative;
        width: 100%;
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: rem(25) rem(20);

        @include media("xs") {
          gap: rem(15);
        }
        @include media("400px") {
          grid-template-columns: 1fr;
        }
      }

      &-item {
        display: flex;
        align-items: center;
        justify-content: flex-start;
        gap: rem(10);

        @include media("xs") {
          font-size: rem(14);
        }
        @include media("400px") {
          font-size: rem(16);
        }

        .icon {
          border-radius: rem(18);
          --icon-size: #{rem(65)};

          @include media("xs") {
            border-radius: rem(12);
            --icon-size: #{rem(48)};
          }
        }
      }
    }

    &__list {
      padding-top: rem(15);
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: rem(30);
      user-select: none;

      @include media("xs") {
        padding-top: rem(5);
        gap: rem(20);
      }

      .text-h3 {
        color: inherit;
      }

      &-swiper {
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: rem(20);
      }

      .swiper {
        display: grid;
        overflow: visible;

        &-wrapper {
          min-width: 0 !important;
        }

        &-slide {
          width: rem(105);
          text-align: center;
          font-weight: 400 !important;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: rem(10);
        }

        &-nav {
          display: flex;
          align-items: center;
          justify-content: flex-start;
          gap: rem(15);

          @include media("sm") {
            margin-bottom: rem(10);
          }
        }

        &-pagination {
          position: static !important;
          margin: 0 !important;

          &-bullet {
            background: #d9d9d9;
            opacity: 1 !important;
          }

          &-bullet-active {
            background: var(--primary) !important;
          }
        }
      }

      .btn {
        min-width: rem(30);
        width: rem(30);
        height: rem(30);
        color: #fff;
        background-color: var(--primary);
        border-radius: 50%;

        &.swiper-button-disabled {
          color: #747474;
          background-color: #d9d9d9;
        }
      }
    }
  }
</style>
