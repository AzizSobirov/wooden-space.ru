---
import { Section, Header, H3, P, Image, Icon, Button } from "ui";

const steps: any[] = [
  {
    img: "production/1.svg",
    title: "Отбор качественного сырья",
    description:
      "Наше сырье высокого качества, так как мы предъявляем самые высокие требования к его отбору. Именно сырьевая база является важнейшим фактором для получения качественной готовой продукции.",
  },
  {
    img: "production/2.svg",
    title: "Мягкая сушка древесины",
    description:
      "У нас собственные камеры для мягкой конвекционной сушки древесины. Мы уделяем особое внимание этому процессу и сушим ель и берёзу по 45-50 дней. Это в последующем влияет на то, чтобы древесина меньше трескалась в процессе эксплуатации.",
  },
  {
    img: "production/3.svg",
    title: "Термообработка",
    description:
      "Термообработка древесины по годами отработанной технологии отличается обработкой материала на всю глубину изделия. В процессе 36-часового цикла термообработки древесина приобретает влажность 3-5%, увеличивая свой срок службы в 10 раз.",
  },
  {
    img: "production/4.svg",
    title: "Строгание готовых изделий",
    description:
      "Мы работаем на высокоточном оборудовании, постоянно уделяя особое внимание своевременному обслуживанию станков. В результате мы получаем точную геометрию готовых профилей.",
  },
  {
    img: "production/5.svg",
    title: "Окраска",
    description:
      "Окрашивание происходит в профессиональном покрасочном цеху только экологически чистыми составами. Лицевая сторона окрашивается в несколько слоев с межслойной шлифовкой для лучшего проникновения состава внутрь древесины.",
  },
  {
    img: "production/6.svg",
    title: "Упаковка и доставка",
    description:
      "Если вы покупаете у нас древесину, будьте спокойны за её сохранность в процессе транспортировки. Мы её бережно упакуем в фирменную пленку, которая защитит готовую продукцию во время доставки.",
  },
  {
    img: "production/7.svg",
    title: "Монтаж",
    description:
      "Залог успеха любых монтажных работ - это умение работать с древесиной и наличие необходимого инструмента. Наши монтажные бригады - специалисты экстра класса. Для нас под силу монтаж абсолютно любой сложности.",
  },
];
---

<!-- Production -->
<Section name="production">
  <Header
    title="Цикл производства"
    desc="Полный цикл, от производства до монтажа"
  />

  <div class="production__steps">
    {
      steps.map((step) => (
        <div class="production__step">
          <div class="production__step-img">
            <Image src={step.img} />
          </div>
          <div class="production__step-content group">
            <H3>{step.title}</H3>
            <P>{step.description}</P>
          </div>
        </div>
      ))
    }
  </div>
</Section>

<style lang="scss" is:global>
  @use "scss/helpers" as *;

  .production {
    position: relative;

    &::before,
    &::after {
      content: "";
      position: absolute;
      top: 0;
      left: 50%;
      z-index: -2;
      background: url(/assets/img/wood-circle.svg) center/contain no-repeat;
      pointer-events: none;
    }

    &::before {
      transform: translate(-102%, -15%);
      width: rem(1000);
      height: rem(1000);

      @include media("lg") {
        width: rem(750);
        height: rem(750);
      }
      @include media("sm") {
        left: 65%;
        width: rem(350);
        height: rem(350);
      }
    }

    &::after {
      transform: translate(25%, -25%);
      z-index: -2;
      width: rem(750);
      height: rem(750);

      @include media("lg") {
        width: rem(500);
        height: rem(500);
      }
      @include media("sm") {
        display: none;
      }
    }

    .container {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: rem(75);

      @include media("sm") {
        gap: rem(50);
      }
    }

    &__steps {
      position: relative;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: rem(50);

      @include media("sm") {
        gap: rem(40);
      }

      &::after {
        content: "";
        position: absolute;
        top: 50%;
        right: 0;
        transform: translate(50%, -50%);
        z-index: -1;
        pointer-events: none;
        width: rem(456);
        height: rem(680);
        background: url("/assets/img/logo-x2.svg") center/contain no-repeat;

        @include media("xl") {
          width: rem(380);
          height: rem(573);
        }
        @include media("sm") {
          display: none;
        }
      }
    }

    &__step {
      display: flex;
      align-items: center;
      justify-content: flex-start;
      gap: rem(42);
      --distance-left: #{rem(105)};

      &:nth-child(2) .production__step-img {
        padding-top: rem(15);
        padding-left: rem(10);
      }

      &:nth-child(2),
      &:nth-child(6) {
        margin-left: var(--distance-left);
      }

      &:nth-child(3),
      &:nth-child(5) {
        margin-left: calc(var(--distance-left) * 2);
      }

      &:nth-child(4) {
        margin-left: calc(var(--distance-left) * 3);
      }

      @include media("xl") {
        --distance-left: #{rem(75)};
      }
      @include media("lg") {
        gap: rem(30);
        --distance-left: 0;
      }
      @include media("sm") {
        flex-direction: column;
      }

      &-img {
        position: relative;

        &::before {
          content: "";
          position: absolute;
          top: rem(-25);
          left: rem(-25);
          width: rem(138);
          height: rem(138);
          background: url(/assets/img/icons/circle-bg.png) center/cover
            no-repeat;
          border-radius: 50%;
          z-index: -1;
        }

        @include media("lg") {
          padding-top: rem(10) !important;
          padding-left: rem(10) !important;
          width: rem(150);

          &::before {
            top: rem(-15);
            left: rem(-15);
          }
        }
      }

      &-content {
        width: 100%;
        max-width: rem(510);
        gap: rem(15);

        @include media("sm") {
          align-items: center !important;
          text-align: center;
          gap: rem(10);
        }
      }
    }
  }
</style>
